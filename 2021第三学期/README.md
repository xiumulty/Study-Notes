# 2021.9.26



# # 2021.9.25

- 今天三个比赛，加上一个技术沙龙，累die了
- 上午打了一个强网杯青少年的web，是一个反序列化，配合了fpm和ssrf进行rce攻击，一开始也是不知道fpm是什么东西，然后去百度找到一个fpm配合ssrf进行rce的漏洞，自己手工测了很多配置文件的路径，最后还是试到了，监听了9001端口，然后在github找到工具生成gopher协议打了一波rce，再用file协议读取flag
- 长安杯的web，学长出了三题，第一个python的是jwt加ssti，jwt需要爆破jwt密钥，再github找到的脚本跑的很慢，后来有人提醒我可以用hashcat爆破，找了一些，还真有jwt模式，`hashcat -m 16500 1.txt -a 3 -2 ?a ?2?2?2?2?2 --force --show`直接秒解，然后还出了一个jboss的题，用jexboss一把嗦，或者nan的发，上了一个冰蝎马去拿flag，还有一个fastjason，也没说咋写的，我也复现不了。。
- 下午跟郭帆老师参加了一个绿盟的技术沙龙，主要讲的红蓝攻防，还是挺有收获的，都是护网时期的真实案例，他们提到社工库，进行密码爆破成功率高达百分之二三十，可惜社工库我真没资源

# 2021.9.24

- 今天一天很累啊，午觉睡了一下午，下午起来挖洞，今天倒是没啥收获。。。

# 2021.9.23

- 又出了一个中科大的洞，交src了，这就很无语，中科大把我ip给ban了。。。可能是爆破了太多后台了，好烦，做了这么多资产收集，没想到都用不上了
- 打了一波天翼杯，web很难，第一题web就是之前nepctf的压轴web原题，这是一个spring的框架，给了pom.xml，可以看组件，可能spring这类的框架都是看组件，结合组件的漏洞去打，这次是jackson配合shiro，进行rce，用了一个工具去打的，虽然不知道原理，自己java审计能力还不够强
- php的题做了一个反序列化，这里有个小技巧，反序列化里面，类名不区分大小写，这可以用来绕过一些过滤

# 2021.9.22

- 挖src的一天，准备搞中国科学技术大学的洞，挖到一些，交src了

# 2021.9.21

- 日记鸽了好久了，很愧疚😭
- 很明显的怠惰了很多了，今天把某些娱乐软件卸载了，万恶之源了属于是，学习效率直线下降。。
- 回顾一下前几天做的事情吧
- 首先是CTF比赛方面，打了一个长城杯，一言难尽，不过这次考的一个java题，我也是很有输出的，首先是一个javaweb开发目录的考察，构造错误，知道目录结构，再找打web.xml的位置，从而找到所有servlet都存在去分析代码，这里学到了一个操作，`url:协议`，这题有一个文件读取功能，本来是可以通过file:///flag去进行ssrf的，但是这里他会检测第一个冒号前的字符，过滤掉了file协议，这里就是通过`url:file:///flag`这样去绕过的，这真是没见过就真不知道，这次学到了，以后就会注意了
- src这次奔着证书出发，看了一个叫淄博师范高等专科学校的看起来很好欺负呀，做了一大堆的信息收集，终于在一个站点找到了一个弱口令进了后台，但是这个账号进去权限贼低，啥功能都没有，但是在前端代码里面发现这些功能都是存在的，直接修改前端代码可以使用这些功能，这里就有个功能可以添加最高权限管理员，这里就可以实现越权了，然后把这些漏洞打包了一个，一次性交了，本来以为可以混一个高危的，但是只给我了中危三分，可惜了
- java代码审计这边，成功实现了java代码的远程调试，生产力方面mbq还是差点，还需要更多的适配，mbq的docker老是报错，换windows就很顺利的实现了，这里踩了一个坑，tomcat的配置文件，不能直接用vscode去改，会让容器出错，得进入命令行，换源后apt安装一个vim，再用vim去修改配置文件

# 2021.9.14

- 今天在NaN打了陇剑杯，这是一个运维比赛，都是日志分析，流量分析，内存取证，题目难度还是比较适中的，这次有个jwt的题，这个我只是略微的了解过，这次也是只写了一点点。然后有日志分析，sql注入的，有流量取证，这次学到了一个加密的协议，可以导入key去TSL里面，从而获得http2的明文
- 工作室的新生的安排也是迫在眉睫，新生群很冷清，没人水群还挺失望的。。。然后就是到时候作业和培训的进行了，不知道到时候会是什么样的安排

- 突然发现自己的学习落下很久了。。。最近太多事情拖着了，明天开始要着手javaweb的学习了

# 2021.9.13

- 工作室宣讲，也是第一次在那么多人面前演讲了一次，感觉还是不错的，也找到自己改进的地方

# 2021.9.10

- 北京语言大学的绝大多数后台站都已经放到内网去了，问了一下，还是不去打内网了，别等下出事了😂，剩下的就只能交了三个弱口令了
- 9号下寝宣传去了，只去了男寝，宣传的还可以吧，女寝不太方便去就放弃了，等下次宣讲会来搞吧

# 2021.9.8

- 枯燥的src信息收集中，找到一个北京语言大学的洞，进去拿到了很多敏感信息，现在准备进一步的去扩大攻击，看看能不能getshell，这个学校的很多后台系统都变成了内网访问了，所以很多的站点打不进去，看看能不能弄到vpn弱口令去进行攻击
- 明天准备下寝宣传，有点紧张，希望一切顺利吧

# 2021.9.6

- 开学的杂事差不多处理好了，开始重新进入状态

- gitbook要翻墙，而且访问速度比较慢，编辑器也很垃圾，所以看了peiqi师傅在用语雀，试了一下，效果确实不错，直接把gitbook的方法论移植到了语雀，以后就在语雀更新了，有些遗憾的是语雀不能完全使用md格式，有点不习惯

- 晚上开始刷起了ctfshow的sql注入篇了，这次学到了几个过滤的绕过

  - 首先是select的绕过，这里学到的是一个利用运算符的优先级去绕过，比如这样`-1'or(id=26)and'1`

    这样的效果就是拼接完sql语句后，变成这样`(id='-1') or ((id=26) and '1') limit 1;`

    这就优先进行and，再进行or，通过这样绕过select的过滤，直接利用题目本身的select

  - 第二个是引号的过滤，有时候，字段名必须要引号包裹，这里就可以利用16进制进行绕过

  - 第三个是模糊匹配，之前遇到过，但是没记录下来，只是又个模糊印象，这次记下来，是在查询的时候，使用`%`进行模糊匹配

  - 第四个是数字的过滤，这里可以使用true去求和，true+true....这样去构造数字，然后再利用sql语句中的char函数进行acsii转字符串，然后用concat去拼接一个个的字符串，`concat(char(xxx),char(xxx))`

  - 这次还学了一个语法，right join，没有特别弄懂啥意思，但是能用，打算再自己写写sql语句理解一下
